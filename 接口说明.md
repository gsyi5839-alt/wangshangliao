 接口概述
菠菜接口网是面向网络媒体、彩票行业客户、第三方彩票销售或分析机构等用户，通过web方式提供开奖数据服务的官方平台。是国内专业面向各彩票相关网站、开发人员和彩票分析的彩票开奖API开发接口。

菠菜接口网的开奖数据来源默认为各地福彩或体彩中心提供，如果福彩或体彩中心不再经营某彩票的销售，我们会在不通知用户的情况下停止供应该彩票数据接口

二、 接口限制
菠菜接口网（付费接口）的开奖结果需要进行注册或申请以后方可调用。

菠菜接口网（付费接口）的开奖结果默认是实时提供零延迟，相对官方延迟1至5秒，但由于网络或其它技术原因，偶尔有可能对开奖时间产生数秒延迟。

菠菜接口网（付费接口）的每个注册账户每个token每10分钟只允许1个IP访问（由于部分网络一台设备同时支持IPv4和IPv6，因此这里特指的1个IP包含有1个IPv4和1个IPv6一起访问），并保证单个IP单个token访问间隔为1秒或以上。（本站采用CDN分布式站点配置，访问将平均分配到不同服务器。因此一般情况下防火墙已不再触发CC。若用户还是触发防火墙封锁，本站将不会为用户手动解锁以示惩罚。屏蔽时长：1天）

注：如需要更多的服务器IP能同时并发访问，可购买多个token。

由于token是会自动绑定访问IP的，因此如若需要更换IP，只需停止访问10分钟后即自动解绑，然后用新IP访问即可绑定新IP。

User-Agent限制
由于User-Agent为Go-http-client，HTTrack，Apache-HttpClient，WPScan，HTTrack，antSword，harvest，audit，dirbuster，pangolin，nmap，sqln，hydra，Parser，libwww，BBBike，sqlmap，w3af，Wget，owasp，Nikto，fimap，havij，zmeu，abyKrokodil，netsparker，httperf，SF的爬虫抓取器对本站进行严重的攻击行为，因此已被防火墙列为黑名单。如正常用户由于开发语言限制问题，坚持必须使用的话，请自行寻找修改User-Agent的方法。把User-Agent名称修改即可。

关于菠菜接口网（付费接口）生成与限制
为确保广大用户能正常使用菠菜接口网（付费接口），本站还提供在线生成API接口服务。每个【接口密钥】都可以【用户中心】内在线生成对应需求的接口。一次可生成1个正式接口、2个备用接口，3个接口禁止同时访问（同时访问会被系统检测误判为高并发行为）

关于高并发行为的处罚
为了确保广大用户的正常使用，避免因高并发行为引起对系统与数据库的冲击。因此我们将会对高并发行为进行处罚。处罚顺序由上到下，依次顺序可续步叠加处罚。
1、对应的【接口密钥】禁止访问数据1分钟，1分钟后自动解封。屏蔽时长：1分钟（系统自身检测）该封禁说明程序有并发倾向，请密切关注。
2、菠菜接口网生成的付费接口在30秒内访问超过40次，防火墙会判断为CC。屏蔽时长：1天（防火墙检测）该封禁说明程序已经产生并发，请尽快修正。
3、由上述2点产生影响时长与影响大小计算，我们将会人工进行整体IP的域名性屏蔽。屏蔽时长：长期（人工复核检测）【解封操作与条件：用户可自行进行系统分析检查（通常是因为系统缺陷或木马导致）解除上述影响后可通知客服，进行人工解封】
上述风控参数于2022-10-05 03:17:53进行最后调整。调整目的：1、减轻第一条的处罚时间，只起到警告作用。2、收紧第二条的周期与频率，提高防火墙响应时间。

关于资源回收问题
经研究有部分付费用户由于某些原因没有续费，但程序依旧不停地对接口进行访问。导致网络与服务器资源的大量浪费。为提供正常用户更优质更快速的服务我们将对这类用户作出以下安排：若【接口密钥】在3个月内没有其他新的付费接口，我们将对其服务器IP进行域名性屏蔽。若后续有其他新的付费接口租用，发现服务器无法访问接口，可向我们客服联系解除屏蔽。

三、购买与试用
自助试用功能已经完成，有需要的用户请访问“免费试用”自助开通试用账号,获取试用API接口。

自助购买功能已经完成，有需要的用户请访问“开奖API接口购买页面”查看购买事项。

四、接口说明
菠菜接口网(付费接口)提供稳定的彩票开奖信息，包括开奖期号、开奖号码、开奖时间（部份彩种还提供下期期号与倒计时）以及更多数据。

菠菜接口网只提供基于web的访问方式，格式支持xml、jsonp与json三种格式，以后会陆续推出基于Socket、httpPush等的调用方式。

注意：菠菜接口网接口无需增加其他不必要的时间传参，所有这类型的传参都会判断为非法传参。如：?tks=637998196585801846

菠菜接口网支持http与https双协议访问

菠菜接口网彩票jsonp接口支持以callback作为回调参数的jsonp调用方式。

请求说明
接口网址	https://bcapi.cn/token/【接口密钥】/code/【彩票代码】/rows/【行数】/type/【模式】/callback/【JSONP回调方法】.【格式类型】
参数名称	是否必填	参数说明	参数演示
接口密钥	必须	你购买的账户接口密钥，注：接口密钥不区分大小写	a00856b457509ba1
彩票代码	必须	详见彩票列表	重庆时时彩：cqssc
双色球：ssq
行数	可选	输出数据的行数，范围在1行~20行内
默认：1	填写1-20均可,最多只返回20条
模式	可选	数据校验模式设置
默认：safe	
可填写模式：safe/fastest
safe 安全模式，即数据进行多点校验，对数据安全有一定保障；
fastest 极速模式，该模式由于没有进行数据校验因此出数据较快，但数据未必准确。
JSONP回调方法	可选	该参数只针对JSPNP才有效。	根据实际回调情况自定义
格式类型	必须	返回的数据格式，xml或json、jsonp	
案例	https://bcapi.cn/token/a00856b457509ba1/code/cqssc/rows/20.json
(20条重庆时时彩，以json方式输出)

https://bcapi.cn/token/a00856b457509ba1/code/ssq/rows/20.json
(20条双色球，以json方式输出)

https://bcapi.cn/token/a00856b457509ba1/code/cqssc/rows/20.jsonp
(20条重庆时时彩，以jsonp方式输出,回调方法默认为jsonpReturn)

https://bcapi.cn/token/a00856b457509ba1/code/cqssc/rows/15/callback/sd.jsonp
(15条重庆时时彩，以jsonp方式输出,回调方法修改为sd)
回调说明
字段	是否必须	参数名称	类型	参数范例
rows	必须	行数	数字	10
info	必须	反馈信息或错误信息	文字	
code	必须	彩种代码	文字	jnd28
data	必须	数据	数组	
data回调说明
字段	是否必须	参数名称	类型	参数范例
expect	必须	期号	文字	2020123
opencode	必须	开奖号码	文字	01,07,11,15,21+04,11
opentime	必须	开奖时间	文字	2020-12-05 20:42:01
六、本地调试与测试环境
由于（付费）正式token是会绑定访问IP，因此本地调试及测试环境请申请免费接口进行开发使用。