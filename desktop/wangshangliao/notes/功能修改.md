# 功能修改需求

## 已完成功能
- [x] 高级 Pinia Store 注入 - 获取群列表、群成员信息
- [x] 获取我的旺商号（accountId）
- [x] 获取群ID和群成员详细信息（UserID、NIM_ID、昵称、角色等）
- [x] **添加账户** - 支持从旺商聊自动获取账户信息和群列表
- [x] **添加机器人** - 支持添加机器人账号（同添加账户）
- [x] **点击登录** - 实现账号连接功能
- [x] **连接到群聊** - 登录后自动切换到配置的群聊

## 待修改功能

### 显示功能
- [ ] 显示托玩家

## 技术说明

### 高级注入数据来源
- **群列表**: `Pinia appStore.groupList.owner` + `appStore.groupList.member`
- **群成员**: `Pinia sdkStore.groupMembersMap[groupId].groupMemberInfo`
- **我的账号**: `Pinia appStore.userInfo.accountId`

### 群成员数据结构
```json
{
  "userId": 9903485,
  "nimId": 1948408648,
  "accountId": 0,
  "userNick": "法拉利",
  "groupMemberNick": "法拉利客服",
  "groupRole": "GROUP_ROLE_OWNER"
}
```

### 角色类型
- `GROUP_ROLE_OWNER` - 群主
- `GROUP_ROLE_ADMIN` - 管理员
- `GROUP_ROLE_MEMBER` - 普通成员
